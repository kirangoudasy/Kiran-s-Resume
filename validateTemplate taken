    onUploadPress: async function () {
      const module = this.byId("moduleComboBox").getSelectedKey();
      const subModule = this.byId("subModuleComboBox").getSelectedKey();
      const template = this.byId("loadTemplateComboBox").getSelectedKey();
      const oFileUploader = this.byId("fileUploader");
      console.log(oFileUploader);
      const file = oFileUploader.getDomRef("fu").files?.[0];

      if (!module || !subModule || !template || !file) {
        sap.m.MessageBox.error("Please select all dropdowns and choose a file.");
        return;
      }

      const maxSize = 20 * 1024 * 1024;
      if (file.size > maxSize) {
        sap.m.MessageBox.alert("File size exceeds 20 MB. Please upload a smaller file`.");
        return; // stop further execution
      }
      sap.ui.core.BusyIndicator.show(0);

      const reader = new FileReader();
      reader.onload = async () => {
        const base64Content = reader.result.split(",")[1];

        const payload = {
          MODULE_NAME: module,
          SUB_MODULE_NAME: subModule,
          LOAD_TEMPLATE: template,
          FILE_NAME: file.name,
          STATUS: "uploaded",
          FILE_MIME_TYPE: file.type,
          FILE_SIZE: file.size,
          FILE_CONTENT: base64Content
        };

        //Do validation here...
        var displayflag = false;
        const oFunction = this.oModel.bindContext("/ValidateTemplate(...)");
        oFunction.setParameter("FILE_CONTENT", base64Content);
        oFunction.setParameter("MODULE_NAME", module);
        oFunction.setParameter("SUB_MODULE_NAME", subModule);
        oFunction.setParameter("LOAD_TEMPLATE", template);
        oFunction.execute().then(() => {
          const oCtx = oFunction.getBoundContext();
          const data = oCtx.getObject();
          sap.ui.core.BusyIndicator.hide();
          if (data.flag === false) {
            if (data.message === "Invalid headers") {
              sap.m.MessageBox.error("Invalid headers");
              return;
            }
            else {
              sap.m.MessageBox.error(data.message);
              return;
            }
          } else {
            this._showPreviewDialog(payload);
          }
        });


      };

      reader.readAsDataURL(file);
    }
